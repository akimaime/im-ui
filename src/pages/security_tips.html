<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>I&M Internet bank</title>
    <link href="../../css/custom.css" rel="stylesheet">
</head>
<body class="">
<div class="d-flex min-vh-100 justify-content-between flex-column">
    <div class="bg-color-height mb-4">
        <div class="container">
            <div class="d-flex row py-4">
                <div class="col-lg-3">
                    <a href="/" class="d-flex  MB-4 p-2 flex-column bg-white  rounded-1">
                        <img src="../assets/b_logo.png" class="img-fluid" alt="logo">
                    </a>
                    <span class="text-white  fw-bold fs-2"></span>
                </div>
                <div class="col-lg-9">
                    <nav class="navbar navbar-expand-md navbar-light bg-transparent">
                        <div class="container ">
                            <button
                                    class="navbar-toggler border-info border-2 text-white"
                                    type="button"
                                    data-bs-toggle="collapse"
                                    data-bs-target="#navbarSupportedContent"
                                    aria-controls="navbarSupportedContent"
                                    aria-expanded="false"
                                    aria-label="Toggle navigation"
                            >
                                <!--                <span class="navbar-toggler-icon"></span>-->

                                <i class="bi bi-list text-white"></i>
                            </button>
                            <div class="collapse navbar-collapse" id="navbarSupportedContent">
                                <ul class="navbar-nav ms-auto mb-2 mb-lg-0 gap-2">
                                    <li class="nav-item">
                                        <a
                                                class="nav-link d-flex align-items-center gap-1 text-white text-md-white fw-bold"
                                                aria-current="page"
                                                href="#"
                                        >
                                            <img src="../assets/images/login/headphone.svg" alt=""/>
                                            SUPPORT
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a
                                                class="nav-link d-flex align-items-center gap-1 text-white text-md-white fw-bold"
                                                aria-current="page"
                                                href="security_tips.html"
                                        >
                                            <img src="../assets/images/login/security.svg" alt=""/>
                                            SECURITY TIPS
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a
                                                class="nav-link d-flex align-items-center gap-1 text-white text-md-white fw-bold"
                                                aria-current="page"
                                                href="#"
                                        >
                                            <img src="../assets/images/login/question.svg" alt=""/>
                                            FAQs
                                        </a>
                                    </li>
                                    <li class="nav-item">
                                        <a
                                                class="nav-link d-flex align-items-center gap-1 text-white text-md-white fw-bold"
                                                aria-current="page"
                                                href="#"
                                        >
                                            <img src="../assets/images/login/lang.svg" alt=""/>
                                            EN
                                        </a>
                                    </li>
                                </ul>
                            </div>
                        </div>
                    </nav>
                </div>
            </div>
        </div>

        <div class="container">
            <div class="row">
                <div class="col-lg-12 ">
                    <div class="card rounded-4 ">
                        <div class="d-flex justify-content-between  flex-column ">
<!--                            <div class="d-flex justify-content-center align-items-center ">-->
<!--                                <img src="../assets/b_logo.png" class="img-fluid w-50 " alt="tablet">-->
<!--                            </div>-->
                            <div class="card card-body border-0 mx-5">
                                <!--                            <h5 class="text-info fw-bold mb-1 text-center">OTP verification</h5>-->
                                <div style="left: 60px;"
                                     class="bg-info text-white rounded-4   gap-4 p-3 end-0 rounded-start-md-4  position-md-absolute d-flex align-items-center flex-column flex-md-row">
                                    <div>
                                        <img src="../assets/images/security/shield.png" class="d-none d-md-block" alt=""/>
                                    </div>
                                    <div>
                                        <h4>Security Tips</h4>
                                        <h6 class="fw-normal">The Following Tips Are to Help You Protect Your Computer and Personal
                                            Information</h6>
                                    </div>
                                </div>
                                <div class="row pt-5">
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col">
                                                <div class="d-flex gap-2">
                                                    <div>
                                                        <div class="position-relative">
                                                            <img src="../assets/images/security/material-security@2x.png" class="w-6" alt=""/>
                                                            <h4 class="position-absolute position-absolute-center" style="">1</h4>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h5 class="text-primary"> Accessing IClick</h5>
                                                        <ul class="text-primary small gap-2 d-flex flex-column">
                                                            <li> Always access IClick by typing URL www.imbank.co.rw and then going to Online
                                                                Banking link.
                                                            </li>
                                                            <li>
                                                                Never click on a link in an email to take you to a website and enter personal
                                                                details either in the
                                                                email or website.
                                                            </li>
                                                            <li>
                                                                Whenever possible avoid login to IClick on public computers or cybercafés. If it
                                                                is urgent, and
                                                                you find yourself doing it, change your password immediately you get your home
                                                                computer
                                                            </li>
                                                            <li>
                                                                Note that some Wi-Fi connections are just like cybercafés. So do not access
                                                                IClick services from
                                                                an open unsecure Wi-Fi hotspot. If you do not know the business responsible for
                                                                maintaining
                                                                the Wi-Fi hotspot, do not access Internet banking services from it. Access
                                                                Internet banking
                                                                services only from a Wi-Fi hotspot maintained by reputable organizations
                                                            </li>
                                                            <li>
                                                                Always use the Virtual Keyboard (onscreen) when log-in to I-click. The system
                                                                has been designed
                                                                to enforce this.
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="d-flex gap-2">
                                                    <div>
                                                        <div class="position-relative">
                                                            <img src="../assets/images/security/material-security@2x.png" class="w-6" alt=""/>
                                                            <h4 class="position-absolute position-absolute-center" style="">2</h4>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h5 class="text-primary">Password Security</h5>
                                                        <ul class="text-primary small gap-2 d-flex flex-column">
                                                            <li>
                                                                You should always be cautious if you receive unsolicited emails or calls asking
                                                                you to disclose
                                                                any personal details or card numbers. This information should be kept secret at
                                                                all times.
                                                            </li>
                                                            <li>
                                                                Never disclose personal information to individuals you do not know.
                                                            </li>
                                                            <li>
                                                                I M Bank would never contact you directly to ask you to disclose your PIN or all
                                                                your password
                                                                information
                                                            </li>
                                                            <li>
                                                                Never write down or store your passwords in a file on your computer. Don't share
                                                                your
                                                                username and password with others. Be cautious of sharing your usernames and
                                                                passwords
                                                                with sites, software, or services- especially when your personal information and
                                                                money is
                                                                involved
                                                            </li>
                                                            <li>
                                                                Never use online password storage.
                                                            </li>
                                                            <li>
                                                                Make your password lengthy. Your password should be 8 characters or more and a
                                                                combination
                                                                of alphabets and numbers. Don’t use a password that is easy to guess e.g. family
                                                                name.
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>

                                    </div>
                                    <div class="col-md-6">
                                        <div class="row">
                                            <div class="col">
                                                <div class="d-flex gap-2">
                                                    <div>
                                                        <div class="position-relative">
                                                            <img src="../assets/images/security/material-security@2x.png" class="w-6" alt=""/>
                                                            <h4 class="position-absolute position-absolute-center" style="">3</h4>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h5 class="text-primary">Ensure IClick session is secure</h5>
                                                        <ul class="text-primary small gap-2 d-flex flex-column">
                                                            <li>
                                                                When undertaking any banking on I-click, check that the session is secure. There
                                                                are two simple
                                                                indicators that will tell you if your session is secure
                                                            </li>
                                                            <li>
                                                                The first is the use of https:// in the URL (address box). Some browsers such as
                                                                Mozilla Firefox
                                                                change the colour of the URL window when you are in a secure session.
                                                            </li>
                                                            <li>
                                                                The other indicator is the presence of a digital certificate represented by a
                                                                padlock or key in the
                                                                bottom right hand corner. If you double click on this icon it should provide you
                                                                with information
                                                                about the organization with which you have entered in to a secure session.
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col">
                                                <div class="d-flex gap-2">
                                                    <div>
                                                        <div class="position-relative">
                                                            <img src="../assets/images/security/material-security@2x.png" class="w-6" alt=""/>
                                                            <h4 class="position-absolute position-absolute-center" style="">4</h4>
                                                        </div>
                                                    </div>
                                                    <div>
                                                        <h5 class="text-primary">Computer Security</h5>
                                                        <ul class="text-primary small gap-2 d-flex flex-column">
                                                            <li>
                                                                It is important to use up-to-date Anti-virus software. If your computer uses
                                                                Microsoft Windows
                                                                operating system, it is important to keep it updated via the Windows Update
                                                                feature, equally if
                                                                you use another PC operating system or have an Apple Mac you should check
                                                                regularly for
                                                                updates. You should be vigilant if you use Internet cafés or a computer that is
                                                                not your own and
                                                                over which you have no control
                                                            </li>
                                                            <li>
                                                                In addition to being protected by using up-to-date antivirus software you should
                                                                also regularly
                                                                use software to remove Spyware from your computer, as these programs record
                                                                information
                                                                about your Internet use and transmit it without your permission. In some
                                                                circumstances this
                                                                can compromise your PC security.
                                                            </li>
                                                            <li>
                                                                Avoid downloading files from unknown sources. Malicious software (also known as
                                                                'malware')
                                                                and computer viruses can be hidden in email attachments and other files
                                                                downloaded from the
                                                                Internet. Before you download anything, verify you trust the source. Even when
                                                                you receive
                                                                files from friends and family, make sure your antivirus software scans the
                                                                files before opening
                                                                them
                                                            </li>
                                                        </ul>
                                                    </div>
                                                </div>
                                            </div>
                                        </div>
                                    </div>
                                </div>


                            </div>
                        </div>
                    </div>

                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="bg-info d-flex justify-content-center w-100">
            <span class="text-white text-center text-sm py-1">I&M BANK RWANDA</span>
        </div>
    </footer>
</div>
<div class="modal fade" id="exampleModal" tabindex="-1" aria-labelledby="exampleModalLabel" aria-hidden="true">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
            <div class="modal-header border-bottom-0 align-items-center py-4 px-lg-5">
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="" method="post" class="submitTransferForm">
                <div class="modal-body py-0 px-lg-5"
                     style="background-image: url(../../assets/images/payments/bg_details.svg);background-position: top;background-repeat: no-repeat;background-size: 80%">
                    <h5 class="text-center">Confirm</h5>
                    <span class="text-muted  py-3 mb-3 ">
                        Check well if all information you entered is correct !
                    </span>
                    <span class="text-muted mb-2 px-0">
                       Make payment to
                    </span>
                    <div class="row border rounded card-body py-3 align-items-center">
                        <div class="col-lg-6">
                            <div class="">
                                <div class="fw-normal text-muted fs-6">4004 7680 7689 0456</div>
                            </div>

                        </div>
                        <div class="col-lg-6">
                            <div class="">
                                <div class="fw-normal text-muted fs-6">BYIRINGIRO EMMANUEL</div>
                            </div>
                        </div>
                    </div>
                    <div class="mb-3 d-flex justify-content-center">
                        <span class="fs-3 fw-bold">3,000,0000 RWF</span>
                    </div>
                    <div class="border-bottom border-3 mt-4 "></div>
                    <div class="  border-top-0  py-4">
                        <div class="row">
                            <div class="col-lg-6">
                                <button type="button" data-bs-dismiss="modal" class="btn btn-outline-primary w-100 px-4 py-2 ">
                                    Cancel
                                </button>
                            </div>
                            <div class="col-lg-6">
                                <button type="submit" class="btn btn-success w-100  px-4 py-2 text-white"
                                >
                                    Make Transfer
                                </button>
                            </div>
                        </div>

                    </div>
                </div>

            </form>
        </div>
    </div>
</div>

<!-- Modal -->
<div class="modal fade" id="otpModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
            <div class="modal-header border-bottom-0 align-items-center py-4 px-lg-5">
                <h1 class="modal-title fs-4 text-primary fw-semibold mb-0">
                    OTP Verification
                </h1>

            </div>
            <form action="./transfer_made.html">
                <div class="modal-body py-0 px-lg-5">
                    <h6 class="text-dark fw-bold py-3 border-top border-3 border-info">
                        We have just sent you a verification code to
                        <a href="" class="text-info text-decoration-none">johnm@gmail.com</a> and
                        <a href="" class="text-info text-decoration-none">+250 788 789 348</a>
                    </h6>

                    <div class="d-flex justify-content-between">
                        <input type="text" class="form-control fs-3  p-2 w-7 h-7 text-center one-digit" required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text" class="form-control fs-3  p-2 w-7 h-7 text-center one-digit" required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text" class="form-control fs-3  p-2 w-7 h-7 text-center one-digit" required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text" class="form-control fs-3  p-2 w-7 h-7 text-center one-digit" required
                               maxlength="1" minlength="1" max="9" min="0"/>
                    </div>

                    <p class="mt-3">
                        <span class="text-primary fw-bold" id="minutesRemain">5</span> minutes and
                        <span class="text-primary fw-bold" id="secondsRemain">00</span> seconds left to enter the
                        code.
                    </p>

                </div>
                <div class="modal-footer border-top-0 px-lg-5 py-4 justify-content-between">
                    <a href="" class="text-decoration-none fs-6 fw-semibold">
                        <i class="bi bi-send"></i>
                        Send the code again
                    </a>
                    <button type="submit" class="btn btn-primary  px-5 py-2 text-info fw-semibold  ">
                        Verify
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

<script>
    let currencies = [
        {abbr: 'USD', rate: 0.000092},
        {abbr: 'EUR', rate: 0.000082},
        {abbr: 'GBP', rate: 0.000072},
        {abbr: 'KES', rate: 0.0102},
        {abbr: 'UGX', rate: 0.33},
        {abbr: 'TZS', rate: 0.21},
        {abbr: 'ZAR', rate: 0.0013},
        {abbr: 'NGN', rate: 0.038},
        {abbr: 'GHS', rate: 0.00016},
        {abbr: 'RWF', rate: 1}
    ];

    let jsFromAccountElement = $('.js-transfer-from');
    let toggleConversion = function () {
        let to = $('.js-transfer-to').val();
        let from = jsFromAccountElement.val();

        if (to && from && to !== from) {
            $('.js-conversion').slideDown();
        } else {
            $('.js-conversion').slideUp();
        }
    }

    $(function () {


        let jsCurrency = $('.js-currency');
        let jsBeneficiaries = $('.js-beneficiaries');

        currencies.forEach(function (currency, index) {
            let abbr = currency.abbr;
            let innerText = `${abbr}-4000-0000-0000-000${index}-Jean Paul`;
            jsFromAccountElement.append(`<option value="${abbr}">${innerText}</option>`);
            jsCurrency.append(`<option value="${abbr}">${abbr}</option>`);

            let accountText = `${abbr}-4000-0000-0001-200${index}-Ntare`;
            jsBeneficiaries.append(`<option value="${abbr}">${accountText}</option>`);

        });


        jQuery.validator.addMethod("alphanumeric", function (value, element) {
            // return this.optional(element) || /^[a-zA-Z0-9\s]+$/.test(value);
            // allow only letters, numbers,  whitespace
            return /^[a-zA-Z0-9\s']+$/.test(value) || this.optional(element);
        }, "Letters and numbers  only please");

        let $ownFromAccount = $('.js-transfer-from');
        let hideBalanceSymbol = '*** *** *** ***';
        $ownFromAccount.on('change', function () {
            // find the sibling of parent div
            $('.js-balance').text(hideBalanceSymbol)
            $('.js-toggle-balance').text('Show Balance')
            let accountBalance = $(this).parent().siblings('.js-account-balance');
            if ($(this).val()) {
                accountBalance.addClass('d-flex')
            } else {
                accountBalance.removeClass('d-flex')
            }
        });

        $('.js-toggle-balance').on('click', function () {
            let currency = $ownFromAccount.val();
            let balanceElement = $(this).siblings('div').find('.js-balance');
            if (balanceElement.text() === hideBalanceSymbol) {
                balanceElement.text(currency + ' 1,000,000.00');
                $(this).text('Hide Balance');
            } else {
                balanceElement.text(hideBalanceSymbol);
                $(this).text('Show Balance');
            }
        });


        let $imForm = $('#imForm');
        $imForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $imForm.on('submit', function (e) {
            e.preventDefault();
            if ($imForm.valid()) {
                $('#exampleModal').modal('show');
            }
        });
        let $localForm = $('#localForm');
        $imForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $localForm.on('submit', function (e) {
            e.preventDefault();
            if ($localForm.valid()) {
                $('#exampleModal').modal('show');
            }
        });

        let $ownAccountsForm = $('#ownAccountsForm');
        $ownAccountsForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $ownAccountsForm.on('submit', function (e) {
            e.preventDefault();
            if ($ownAccountsForm.valid()) {
                window.location.href = 'transfer-summary.html';
            }
        });
        let $internationalForm = $('#internationalForm');
        $internationalForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $internationalForm.on('submit', function (e) {
            e.preventDefault();
            if ($internationalForm.valid()) {
                $('#exampleModal').modal('show');
            }
        });

        jsFromAccountElement.on('change', function () {
            if ($(this).val())
                toggleConversion();
        });
        $('.js-transfer-to').on('change', function () {
            let value = $(this).val();
            if (value) {
                toggleConversion();
                $('.js-converted-currency').text(value);
            }
        });


        $('.one-digit').on('keyup', function () {
            if ($(this).val().length === 1) {
                setTimeout(() => {
                    $(this).next('.one-digit').focus();
                }, 100);
            }
        });
        $('.js-bulk-toggle').on('change', function () {
            if ($(this).is(':checked')) {
                $('.js-bulk-payments').slideDown();
                $('.js-single-payment').slideUp();
            } else {
                $('.js-bulk-payments').slideUp();
                $('.js-single-payment').slideDown();
            }
        });


        $('.submitTransferForm').on('submit', function (e) {
            e.preventDefault();
            // find modal parent of this form
            var modal = $(this).closest('.modal');
            // hide modal
            modal.modal('hide');
            $('#otpModal').modal('show');

            let $minutesRemain = $('#minutesRemain');
            let minutes = Number($minutesRemain.text());
            let seconds = 0;
            let interval = setInterval(function () {
                if (seconds === 0) {
                    minutes--;
                    seconds = 60;
                }
                seconds--;
                $minutesRemain.text(minutes);
                $('#secondsRemain').text(seconds);
                if (minutes === 0 && seconds === 0) {
                    clearInterval(interval);
                }
            }, 1000);
        });


        $('.select2').select2({
            theme: 'bootstrap-5',
            allowClear: false
        });

        $('.js-check-saved-beneficiaries').on('click', function () {


            let parent = $(this).parent().parent();
            console.log(parent);
            // find sibling with class js-select-beneficiary
            let selectBeneficiary = parent.siblings('div.js-select-beneficiary');
            console.log(selectBeneficiary);
            let searchBeneficiary = parent.siblings('div.js-search-beneficiary');
            let save_beneficiary = $('.save_beneficiary');

            if ($(this).prop('checked')) {
                console.log(true)
                selectBeneficiary.slideDown();
                searchBeneficiary.slideUp()
                save_beneficiary.slideUp()
            } else {
                console.log(false)
                selectBeneficiary.slideUp()
                searchBeneficiary.slideDown();
                save_beneficiary.slideDown()
            }

        })


        $('.js-payment-schedule').on('change', function () {
            let scheduleContainer = $(this).parent().siblings('.js-schedule-container');

            if ($(this).prop('checked')) {
                scheduleContainer.slideDown();
            } else {
                scheduleContainer.slideUp();
            }
        });

        $('.js-verify').on('click', function () {
            //simulate ajax call
            let btn = $(this);
            // add spinner to button
            btn.html(
                `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                <span class="visually-hidden">Loading...</span>`
            )
                .prop('disabled', true);
            setTimeout(function () {
                $('.js-account-found').slideDown();
                btn.html('Verify').prop('disabled', false);
            }, 2000);
        });

        let loadBeneficiaries = function () {
            let beneficiariesInput = $('.js-transfer-to');

            currencies.forEach(function (currency, index) {
                beneficiariesInput.append(`<option value="${currency.abbr}">${currency.abbr}-4590-7838-7989-7890-name${index + 1}</option>`);
            });
            beneficiariesInput.trigger('change');
        }

        loadBeneficiaries();

        let loadCountries = function () {
            let url = 'https://restcountries.com/v3.1/all';
            let countriesInput = $('.js-countries');
            $.ajax({
                url: url,
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    $.each(data, function (index, country) {
                        countriesInput.append(`<option value="${country.cca2}">${country.name.common}</option>`);
                    });
                    countriesInput.trigger('change');
                }
            });
        }

        loadCountries();

        /*    let loadBanks = function () {
               let url = 'https://api.paystack.co/bank';
               let banksInput = $('.js-banks');
               banksInput.empty();
               banksInput.trigger('change');
               $.ajax({
                   url: url,
                   type: 'GET',
                   dataType: 'json',
                   success: function (data) {
                       $.each(data.data, function (index, bank) {
                           banksInput.append(`<option value="${bank.code}">${bank.code}-${bank.name}</option>`);
                       });
                       banksInput.trigger('change');
                   }
               });
           }

           loadBanks(); */

    });
</script>
</body>
</html>