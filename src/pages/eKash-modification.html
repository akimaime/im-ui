<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>I&M Internet bank</title>
    <link href="../css/custom.css" rel="stylesheet">
</head>
<body class="">
<div class="bg-color-height ">
    <div class="d-flex min-vh-100 gap-2 justify-content-between flex-column">
        <div>
            <div class="container">
                <div class="d-flex justify-content-between align-items-center ">
                    <div>
                        <div class="d-flex col-lg-3  flex-column py-2  rounded-1">
                            <a href="dashboard.html">
                                <img src="../assets/logo.png" class="img-fluid" alt="logo">
                            </a>
                        </div>
                        <span class="text-white  fw-bold fs-2">Retail</span>
                    </div>
                    <div class="d-flex col-lg-3 align-items-center justify-content-end gap-2">
                        <div class="nav-item dropdown">
                            <a class="nav-link d-flex text-white align-items-center gap-2 dropdown-toggle" href="#"
                               role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                  <span class="d-flex flex-column">
                                    <span class="text-sm fw-light">welcome</span>
                                    <small>John Doe</small>
                                  </span>
                                <img src="../assets/images/otp/avatar.png" class="img-fluid h-6"
                                     alt="John Peter Musoni"/>
                            </a>
                            <ul class="dropdown-menu dropdown-menu-end shadow rounded-4">

                                <li class="my-2">
                                    <a class="fw-normal dropdown-item" href="#">
                                        <i class="bi bi-gear"></i>
                                        Account Settings
                                    </a>
                                </li>
                                <li class="my-2">
                                    <a class="fw-normal dropdown-item" href="#">
                                        <i class="bi bi-gear"></i>
                                        Account Settings
                                    </a>
                                </li>
                                <li class="my-2">
                                    <a class="fw-normal dropdown-item" href="/">
                                        <i class="bi bi-box-arrow-left"></i>
                                        Logout
                                    </a>
                                </li>
                            </ul>
                        </div>
                    </div>
                </div>
                <nav class=" navbar navbar-expand-lg">
                    <button class="navbar-toggler border border-0" type="button" data-bs-toggle="collapse"
                            data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent"
                            aria-expanded="false" aria-label="Toggle navigation">
                        <i class="navbar-toggler-icon text-white"></i>
                    </button>
                    <div class="collapse navbar-collapse" id="navbarSupportedContent">
                        <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                            <li class="nav-item dropdown">
                                <a class="nav-link   dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Dashboard
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="#">Retail Dashboard</a></li>
                                    <li><a class="dropdown-item"
                                           href="corporate-dashboard.html">Corporate
                                        Dashboard</a></li>

                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Transfers
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="transfers/own-account.html">Transfer to your own
                                        Accounts </a></li>
                                    <li><a class="dropdown-item" href="transfers/internal.html">Transfer from I&M to
                                        I&M </a></li>
                                    <li><a class="dropdown-item" href="transfers/local-bank.html">Transfer to Local
                                        Banks </a></li>
                                    <li><a class="dropdown-item" href="transfers/international.html">Transfer to
                                        International </a></li>
                                    <li><a class="dropdown-item" href="transfers/momo.html">Transfer to Mobile </a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Payments
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="payments/rra.html">RRA Payment </a></li>
                                    <li><a class="dropdown-item" href="payments/irembo.html">Irembo Payment </a></li>
                                    <li><a class="dropdown-item" href="payments/rssb.html">ISHEMA-RSSB Payment </a></li>
                                    <li><a class="dropdown-item" href="payments/airtime.html">Airtime Top Up</a></li>
                                    <li><a class="dropdown-item" href="payments/eKash.html">eKash</a></li>
                                    <li><a class="dropdown-item" href="payments/utilities.html">Utilities Payment </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link active dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    eKash
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item active" href="ekashSub.html">Subscription</a></li>
                                    <li><a class="dropdown-item" href="payments/eKash.html"> Payment </a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item" role="presentation">

                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Service Requests
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="requests/chequebook.html">Chequebook
                                        Requests </a>
                                    </li>
                                    <li><a class="dropdown-item" href="requests/certificates.html">Certificates
                                        Requests </a></li>
                                    <li><a class="dropdown-item" href="requests/paper-statement.html">Paper Statement
                                        Requests</a></li>
                                    <li><a class="dropdown-item" href="requests/overdraft.html">Bankers
                                        cheques/overdraft
                                        Demand Request </a></li>
                                </ul>
                            </li>
                            <li class="nav-item" role="presentation">

                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Product Simulators
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="LoanSimulator.html">Loan Simulator </a></li>
                                    <li><a class="dropdown-item" href="savingCalculator.html">Savings simulator</a></li>
                                    <li><a class="dropdown-item" href="term-deposit.html">Term Deposit Simulator</a>
                                    </li>
                                    <li><a class="dropdown-item" href="loan-eligibility.html">Loan Eligibility
                                        Simulator</a>
                                    </li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Standing Orders
                                </a>
                                <ul class="dropdown-menu">
                                    <li><a class="dropdown-item" href="transfers-standingOrder.html">Transfer Standing
                                        Orders </a></li>
                                    <li><a class="dropdown-item" href="airtime-standingOrder.html">Airtime Standing
                                        Orders</a></li>
                                    <li><a class="dropdown-item" href="utilities-standingOrder.html">Utility Standing
                                        Orders</a></li>
                                </ul>
                            </li>
                            <li class="nav-item dropdown">
                                <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown"
                                   aria-expanded="false">
                                    Other Services
                                </a>
                                <ul class="dropdown-menu">
                                    <li>
                                        <a class="dropdown-item " href="card-management.html"
                                           type="button" role="tab" aria-controls="pills-home"
                                           aria-selected="true">
                                            Manage Cards
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item " href="beneficiaries.html"
                                           type="button" role="tab" aria-controls="pills-home"
                                           aria-selected="true">
                                            Manage Beneficiaries
                                        </a>
                                    </li>
                                    <li>
                                        <a class="dropdown-item " href="mail.html"
                                           type="button" role="tab" aria-controls="pills-home"
                                           aria-selected="true">
                                            Mails
                                        </a></li>
                                </ul>
                            </li>
                        </ul>
                    </div>
                </nav>
            </div>
            <div class="container">
                <div class="row">
                    <div class="col-lg-9 ">
                        <div class="card rounded-4 ">
                            <form action="eKash-confirmation.html" >
                                <div class="card-body ">
                                    <div class="alert m-3 alert-success" style="display: none">
                                        <p class="text-success mb-0 small">
                                            The Entered Details has been submitted successfully.<br>
                                            The confirmation will be sent shortly to your registered phone number.
                                        </p>
                                    </div>
                                    <div class="tab-pane card-body  active" id="pills-own-accounts" role="tabpanel">
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <h4 class="text-info fw-bold mb-3">eKash Modification</h4>
                                            </div>
                                            <div class="alert less alert-danger" style="display: none">
                                                <p class="text-danger small">
                                                    Please note that the minimum amount you can send is 1,000 RWF
                                                </p>
                                            </div>
                                            <div class="alert greater alert-danger" style="display: none">
                                                <p class="text-danger small">
                                                    Please note that the maximum amount you can send is 1,000,000 RWF
                                                </p>
                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class=" mb-3">
                                                    <div class="d-flex">
                                                        <label for="im_from_account"
                                                               class=" text-sm fw-normal form-label">
                                                            Account Number:
                                                        </label>
                                                        <div style="display: none"
                                                             class=" justify-content-between align-items-center mb-3 js-account-balance">
                                                            <div class="d-flex flex-column">
                                                                <div class=" text-muted  small ">Account Balance</div>
                                                                <span class="text-info  small js-balance">*** *** ***
                                                                ***</span>
                                                            </div>
                                                            <button type="button"
                                                                    class=" btn btn-outline-primary border  js-toggle-balance">
                                                                Show Balance
                                                            </button>
                                                        </div>
                                                    </div>
                                                    <div class="rounded-default gap-2   p-1">

                                                        <input type="text"
                                                               id="pay_from"
                                                               value="RWF-4000-0000-0000-0001-Jean Paul"
                                                               disabled
                                                               class="form-control  py-3 bg-secondary border-0 bg-opacity-10 shadow-none"
                                                               name="search" />
                                                    </div>
                                                </div>

                                                <div class="mb-3">
                                                    <label for="account_name"
                                                           class="form-label text-sm fw-normal  text-sm">Account Name:</label>
                                                    <div class="input-group">

                                                        <input type="text"
                                                               name="amount"
                                                               value="Jean Paul"
                                                               required id="account_name" disabled
                                                               class="form-control flex-grow-1   py-3 bg-secondary border-0 bg-opacity-10 px-3 fw-semibold js-amount" />
                                                    </div>
                                                    <div class="js-conversion p-0" style="display:none">
                                                        <div
                                                                class="d-flex  flex-column flex-md-row gap-3  ">
                                                            <div>
                                                                <div class="fw-normal text-info fs-6">
                                                                    Total Conversion:
                                                                </div>
                                                                <div
                                                                        class="d-flex flex-shrink-0 align-items-center gap-2">
                                                                    <span
                                                                            class="text-muted fw-semibold text-xs js-converted-currency">USD</span>
                                                                    <span
                                                                            class="fs-13px fw-semibold text-xs text-info js-converted-amount">2763.38</span>
                                                                </div>
                                                            </div>
                                                            <div>
                                                                <div class="fw-normal text-info fs-6">
                                                                    Conversion Rate:
                                                                </div>
                                                                <div class="text-info">
                                                                    (<span
                                                                        class="text-info text-xs js-conversion-rate">0.000092</span>)
                                                                </div>
                                                            </div>
                                                        </div>
                                                    </div>

                                                </div>




                                            </div>

                                            <div class="col-lg-6">
                                                <div class=" ">
                                                    <div class="">
                                                        <label for="pay_to" class=" text-sm fw-normal form-label">
                                                            eKash ID(eg:123456789IM):
                                                        </label>

                                                    <div style="display: none" class="js-select-beneficiary">
                                                        <select
                                                                class="  text-sm  py-3 bg-secondary border-0 bg-opacity-10 px-3  fw-semibold  form-select js-beneficiaries">
                                                            <option value="">Select Beneficiary</option>

                                                        </select>
                                                    </div>
                                                    <div class="mb-2 js-search-beneficiary">
                                                        <div class="rounded-default gap-2   p-1">

                                                            <input type="text"
                                                                   id="pay_to"
                                                                   value="123456789IM"
                                                                   class="form-control  py-3 bg-secondary border-0 bg-opacity-10 shadow-none"
                                                                   name="search" />
                                                        </div>
                                                    </div>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="home_reason"
                                                           class="form-label text-sm  fw-normal">Mobile Number:</label>
                                                    <input type="text" name="beneficiary_account"
                                                           value="0780008732"
                                                           required id="ben_account" disabled
                                                           class="form-control py-3 bg-secondary border-0 bg-opacity-10 px-3  fw-semibold" />
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div style="display: none"
                                                     class=" justify-content-between align-items-center mb-3 js-account-balance">
                                                    <div class="d-flex flex-column">
                                                        <div class=" text-muted  small ">Account Balance</div>
                                                        <span class="text-info  small js-balance">*** *** ***
                                                                ***</span>
                                                    </div>
                                                    <button type="button"
                                                            class=" btn btn-outline-primary border  js-toggle-balance">
                                                        Show Balance
                                                    </button>
                                                </div>
                                                <div class="mb-3">
                                                    <label for="amount"
                                                           class="form-label text-sm fw-normal  text-sm">Email:</label>
                                                    <div class="input-group">

                                                        <input type="text" name="amount" required id="amount"
                                                                value="dece@gmail.com"
                                                               class="form-control flex-grow-1   py-3 bg-secondary border-0 bg-opacity-10 px-3 fw-semibold js-amount" disabled />
                                                    </div>

                                                </div>




                                            </div>

                                            <div class="col-lg-6">
                                                <div class="mb-3">
                                                    <label for="home_reason"
                                                           class="form-label text-sm  fw-normal">National/Passport ID:</label>
                                                    <input  required
                                                            value="11987654327767"
                                                            class="form-control py-3 bg-secondary border-0 bg-opacity-10 px-3  fw-semibold" disabled
                                                            name="reason" id="home_reason">
                                                </div>

                                            </div>
                                        </div>
                                        <div class="row">
                                            <div class="col-lg-6">
                                                <div class="form-check save_beneficiary" >
                                                    <input
                                                            class="form-check-input rounded-1 border-info  "
                                                            type="checkbox" name="select_beneficiary"
                                                            id="save_ben">
                                                    <label
                                                            class="form-check-label text-info fs-6 cursor-pointer"
                                                            for="save_ben">
                                                        Agree terms and conditions
                                                    </label>
                                                </div>
                                            </div>
                                        </div>


                                    </div>

                                </div>
                                <div class="card-footer bg-transparent">
                                    <div class="row">
                                        <div class="col-lg-6 py-3 offset-lg-6">
                                            <div
                                                    class="mb-3 d-flex gap-4 align-items-center  justify-content-end">
                                                <button type="reset"
                                                        class="btn btn-outline-primary rounded py-2   px-lg-5">
                                                    Clear
                                                </button>
                                                <button type="submit"
                                                        class="btn btn-info rounded py-2 text-white px-lg-5">
                                                    Continue
                                                </button>

                                            </div>
                                        </div>
                                    </div>
                                </div>
                                </div>
                            </form>
                        </div>
                    </div>
                    <div class="col-lg-3 my-2">
                        <div class="card h-100 rounded-4  border-0">
                            <div class="card-body">
                                <div class="row">
                                    <div class="col-6 quick-actions border-bottom border-end">
                                        <a href="#"
                                           class="mb-1 py-1 text-decoration-none d-flex flex-column justify-content-center align-items-center">
                                            <div class="bg-white-subtle  d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                                 style="height: 54px;width: 54px">
                                                <img src="../assets/images/login/RRA.svg" class="h-75" alt="rra">
                                            </div>
                                            <span class="small text-primary fw-bold">Pay to</span>
                                            <span class="small text-info fw-semibold">RRA</span>
                                        </a>
                                    </div>
                                    <div class="col-6 quick-actions border-bottom">
                                        <a href="#"
                                           class=" mb-1 py-1 text-decoration-none d-flex justify-content-center align-items-center flex-column">
                                            <div class="bg-white-subtle  d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                                 style="height: 54px;width: 54px">
                                                <img src="../assets/images/dashboard/irembo.svg" class="h-75" alt="rra">
                                            </div>
                                            <span class="small text-primary fw-bold">Pay to</span>
                                            <span class="small text-info fw-semibold">Irembo</span>
                                        </a>
                                    </div>
                                </div>
                                <div class="row mb-4">
                                    <div class="col-6 py-2 quick-actions  border-end">
                                        <a href="#"
                                           class=" py-1 text-decoration-none d-flex flex-column justify-content-center align-items-center">
                                            <div class="bg-white-subtle  d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                                 style="height: 54px;width: 54px">
                                                <i class="bi bi-meta"></i>
                                            </div>
                                            <span class="small text-primary fw-bold">Pay </span>
                                            <span class="small text-info fw-semibold">Electricity</span>
                                        </a>
                                    </div>
                                    <div class="col-6 quick-actions py-2 ">
                                        <a href="#"
                                           class="d-flex py-1 text-decoration-none justify-content-center align-items-center flex-column">
                                            <div class="bg-white-subtle   d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                                 style="height: 54px;width: 54px;">
                                                <i class="bi bi-droplet"></i>

                                            </div>
                                            <span class="small text-primary fw-bold">Pay </span>
                                            <span class=" text-info small fw-semibold">Water</span>
                                        </a>
                                    </div>
                                </div>
                                <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                                    <div class="carousel-inner">
                                        <div class="carousel-item active">
                                            <img src="../assets/images/ads.png" class="d-block w-100" alt="...">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="../assets/images/ads.png" class="d-block w-100" alt="...">
                                        </div>
                                        <div class="carousel-item">
                                            <img src="../assets/images/ads.png" class="d-block w-100" alt="...">
                                        </div>
                                    </div>
                                    <div class="d-flex justify-content-center align-items-center">
                                        <button class="carousel-control-prev" type="button"
                                                data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                    <span class=" bg-white bg-opacity-25  rounded-circle d-flex justify-content-center align-items-center"
                                          style="height: 30px;width: 30px" aria-hidden="true">
                                        <i class="bi bi-chevron-left fs-5"></i>
                                    </span>
                                            <span class="visually-hidden">Previous</span>
                                        </button>
                                    </div>
                                    <button class="carousel-control-next" type="button"
                                            data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                <span class=" bg-white bg-opacity-25  rounded-circle d-flex justify-content-center align-items-center"
                                      style="height: 30px;width: 30px" aria-hidden="true">
                                        <i class="bi bi-chevron-right fs-5"></i>
                                    </span>
                                        <span class="visually-hidden">Next</span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
        <footer>
            <div class="bg-info d-flex justify-content-center w-100">
                <span class="text-white text-center text-sm py-1">I&M BANK RWANDA</span>
            </div>
        </footer>
    </div>
</div>

<!--<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>-->
<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.5.1/jquery.min.js"></script>
<script src="https://cdnjs.cloudflare.com/ajax/libs/select2/4.0.13/js/select2.min.js"></script>
<script src="https://cdn.jsdelivr.net/jquery.validation/1.16.0/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.8/dist/umd/popper.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.3/dist/js/bootstrap.min.js"></script>

<script>
    let currencies = [
        {abbr: 'USD', rate: 0.000092},
        {abbr: 'EUR', rate: 0.000082},
        {abbr: 'GBP', rate: 0.000072},
        {abbr: 'KES', rate: 0.0102},
        {abbr: 'UGX', rate: 0.33},
        {abbr: 'TZS', rate: 0.21},
        {abbr: 'ZAR', rate: 0.0013},
        {abbr: 'NGN', rate: 0.038},
        {abbr: 'GHS', rate: 0.00016},
        {abbr: 'RWF', rate: 1}
    ];

    let jsFromAccountElement = $('.js-transfer-from');
    let toggleConversion = function () {
        let to = $('.js-transfer-to').val();
        let from = jsFromAccountElement.val();

        if (to && from && to !== from) {
            $('.js-conversion').slideDown();
        } else {
            $('.js-conversion').slideUp();
        }
    }

    $(function () {


        let jsCurrency = $('.js-currency');
        let jsBeneficiaries = $('.js-beneficiaries');

        currencies.forEach(function (currency, index) {
            let abbr = currency.abbr;
            let innerText = `${abbr}-4000-0000-0000-000${index}-Jean Paul`;
            jsFromAccountElement.append(`<option value="${abbr}">${innerText}</option>`);
            jsCurrency.append(`<option value="${abbr}">${abbr}</option>`);

            let accountText = `${abbr}-4000-0000-0001-200${index}-Ntare`;
            jsBeneficiaries.append(`<option value="${abbr}">${accountText}</option>`);

        });


        jQuery.validator.addMethod("alphanumeric", function (value, element) {
            // return this.optional(element) || /^[a-zA-Z0-9\s]+$/.test(value);
            // allow only letters, numbers,  whitespace
            return /^[a-zA-Z0-9\s']+$/.test(value) || this.optional(element);
        }, "Letters and numbers  only please");

        let $ownFromAccount = $('.js-transfer-from');
        let hideBalanceSymbol = '*** *** *** ***';
        $ownFromAccount.on('change', function () {
            // find the sibling of parent div
            $('.js-balance').text(hideBalanceSymbol)
            $('.js-toggle-balance').text('Show Balance')
            let accountBalance = $(this).parent().siblings('.js-account-balance');
            if ($(this).val()) {
                accountBalance.addClass('d-flex')
            } else {
                accountBalance.removeClass('d-flex')
            }
        });

        $('.js-toggle-balance').on('click', function () {
            let currency = $ownFromAccount.val();
            let balanceElement = $(this).siblings('div').find('.js-balance');
            if (balanceElement.text() === hideBalanceSymbol) {
                balanceElement.text(currency + ' 1,000,000.00');
                $(this).text('Hide Balance');
            } else {
                balanceElement.text(hideBalanceSymbol);
                $(this).text('Show Balance');
            }
        });

        let successParameter= new URLSearchParams(window.location.search).get('success');
        if (successParameter){
            $('.alert-success').slideDown();
            setTimeout(function () {
                $('.alert-success').slideUp();
            }, 5000);
        }


        let $imForm = $('#imForm');
        $imForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $imForm.on('submit', function (e) {
            e.preventDefault();
            if ($imForm.valid()) {
                $('#exampleModal').modal('show');
            }
        });
        let $localForm = $('#localForm');
        $imForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $localForm.on('submit', function (e) {
            e.preventDefault();
            if ($localForm.valid()) {
                $('#exampleModal').modal('show');
            }
        });

        let $ownAccountsForm = $('#ownAccountsForm');
        $ownAccountsForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $ownAccountsForm.on('submit', function (e) {
            e.preventDefault();
            let amount = parseFloat($('#amount').val().replace(/,/g, ''));
            if ($ownAccountsForm.valid()) {
                if (amount < 1000) {
                    $('.less').slideDown();
                }else if (amount > 1000000) {
                    $('.greater').slideDown();
                }else {
                    $('#exampleModal').modal('show');
                }
            }
        });
        let $internationalForm = $('#internationalForm');
        $internationalForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });

        $internationalForm.on('submit', function (e) {
            e.preventDefault();
            if ($internationalForm.valid()) {
                $('#exampleModal').modal('show');
            }
        });

        jsFromAccountElement.on('change', function () {
            if ($(this).val())
                toggleConversion();
        });
        $('.js-transfer-to').on('change', function () {
            let value = $(this).val();
            if (value) {
                toggleConversion();
                $('.js-converted-currency').text(value);
            }
        });


        $('.one-digit').on('keyup', function () {
            if ($(this).val().length === 1) {
                setTimeout(() => {
                    $(this).next('.one-digit').focus();
                }, 100);
            }
        });
        $('.js-bulk-toggle').on('change', function () {
            if ($(this).is(':checked')) {
                $('.js-bulk-payments').slideDown();
                $('.js-single-payment').slideUp();
            } else {
                $('.js-bulk-payments').slideUp();
                $('.js-single-payment').slideDown();
            }
        });


        $('.submitTransferForm').on('submit', function (e) {
            e.preventDefault();
            // find modal parent of this form
            var modal = $(this).closest('.modal');
            // hide modal
            modal.modal('hide');
            $('#otpModal').modal('show');

            let $minutesRemain = $('#minutesRemain');
            let minutes = Number($minutesRemain.text());
            let seconds = 0;
            let interval = setInterval(function () {
                if (seconds === 0) {
                    minutes--;
                    seconds = 60;
                }
                seconds--;
                $minutesRemain.text(minutes);
                $('#secondsRemain').text(seconds);
                if (minutes === 0 && seconds === 0) {
                    clearInterval(interval);
                }
            }, 1000);
        });


        $('.select2').select2({
            theme: 'bootstrap-5',
            allowClear: false
        });

        $('.js-check-saved-beneficiaries').on('click', function () {


            let parent = $(this).parent().parent();
            console.log(parent);
            // find sibling with class js-select-beneficiary
            let selectBeneficiary = parent.siblings('div.js-select-beneficiary');
            console.log(selectBeneficiary);
            let searchBeneficiary = parent.siblings('div.js-search-beneficiary');
            let save_beneficiary = $('.save_beneficiary');

            if ($(this).prop('checked')) {
                console.log(true)
                selectBeneficiary.slideDown();
                searchBeneficiary.slideUp()
                save_beneficiary.slideUp()
            } else {
                console.log(false)
                selectBeneficiary.slideUp()
                searchBeneficiary.slideDown();
                save_beneficiary.slideDown()
            }

        })


        $('.js-payment-schedule').on('change', function () {
            let scheduleContainer = $(this).parent().siblings('.js-schedule-container');

            if ($(this).prop('checked')) {
                scheduleContainer.slideDown();
            } else {
                scheduleContainer.slideUp();
            }
        });

        $('#im_from_account').on('click', function () {
            //simulate ajax call
            let btn = $(this);
            let accountNameField = $('#account_name');
            let benAccountField = $('#ben_account');
            let emailField = $('#amount');
            let idField = $('#home_reason');
            let bankNames = ['0780008732', '0728159330', '0789874799', '0789874768'];
            let Names = ['Byukusenge Jean Paul', 'Ntare Yvan', 'Mugabe Alex', 'Rugamba Jean'];
            let emails = ['dush@gmail.com', 'ntare@gmail.com', 'mug@gmail.com'];
            let ids = ['1198765432', '1198765432', '1198765432'];

            let randomIndex = Math.floor(Math.random() * bankNames.length);
            let randomNameIndex = Math.floor(Math.random() * Names.length);
            let randomEmailIndex = Math.floor(Math.random() * emails.length);
            let randomIdIndex = Math.floor(Math.random() * ids.length);
                $('.js-account-found').slideDown();
                accountNameField.val(Names[randomNameIndex]);
                benAccountField.val(bankNames[randomIndex]);
                emailField.val(emails[randomEmailIndex]);
                idField.val(ids[randomIdIndex]);
        });

        let loadBeneficiaries = function () {
            let beneficiariesInput = $('.js-transfer-to');

            currencies.forEach(function (currency, index) {
                beneficiariesInput.append(`<option value="${currency.abbr}">${currency.abbr}-4590-7838-7989-7890-name${index + 1}</option>`);
            });
            beneficiariesInput.trigger('change');
        }

        loadBeneficiaries();

        let loadCountries = function () {
            let url = 'https://restcountries.com/v3.1/all';
            let countriesInput = $('.js-countries');
            $.ajax({
                url: url,
                type: 'GET',
                dataType: 'json',
                success: function (data) {
                    $.each(data, function (index, country) {
                        countriesInput.append(`<option value="${country.cca2}">${country.name.common}</option>`);
                    });
                    countriesInput.trigger('change');
                }
            });
        }

        loadCountries();

        /*    let loadBanks = function () {
               let url = 'https://api.paystack.co/bank';
               let banksInput = $('.js-banks');
               banksInput.empty();
               banksInput.trigger('change');
               $.ajax({
                   url: url,
                   type: 'GET',
                   dataType: 'json',
                   success: function (data) {
                       $.each(data.data, function (index, bank) {
                           banksInput.append(`<option value="${bank.code}">${bank.code}-${bank.name}</option>`);
                       });
                       banksInput.trigger('change');
                   }
               });
           }

           loadBanks(); */

    });
</script>
</body>
</html>