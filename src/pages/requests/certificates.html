<!doctype html>
<html lang="en">
<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1">
    <title>I&M Internet bank</title>
    <link href="../../css/custom.css" rel="stylesheet">
</head>
<body class="">
<div class="d-flex min-vh-100 justify-content-between flex-column">
    <div class="bg-color-height mb-4">
        <div class="container">
            <div class="d-flex justify-content-between align-items-start py-4">
                <div>
                    <div class="d-flex col-7 col-lg-2 p-2 flex-column bg-white  rounded-1">
                        <img src="../../assets/b_logo.png" class="img-fluid" alt="logo">
                    </div>
                    <span class="text-white  fw-bold fs-2">Retail</span>
                </div>
                <div class="d-flex col-lg-3 align-items-center justify-content-end gap-2">
                    <h5 class="text-white ">Welcome ,Jon Doe</h5>
                    <div class="d-flex rounded-circle bg-dark bg-opacity-50 p-4 justify-content-center align-items-center"
                         style="height: 16px;width: 16px">
                        <i class="bi bi-person fs-5 text-white"></i>
                    </div>
                </div>
            </div>
            <nav class="mb-4 navbar navbar-expand-lg">
                <button class="navbar-toggler border border-0" type="button" data-bs-toggle="collapse" data-bs-target="#navbarSupportedContent" aria-controls="navbarSupportedContent" aria-expanded="false" aria-label="Toggle navigation">
                    <i class="navbar-toggler-icon text-white"></i>
                </button>
                <div class="collapse navbar-collapse" id="navbarSupportedContent">
                    <ul class="nav nav-pills mb-3" id="pills-tab" role="tablist">
                        <li class="nav-item" role="presentation">
                            <a class="nav-link " href="/"
                               type="button" role="tab" aria-controls="pills-home"
                               aria-selected="true">
                                Dashboard
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link " href="../../pages/corporate-dashboard.html"
                               type="button" role="tab" aria-controls="pills-home"
                               aria-selected="true">Corporate Dashboard
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Transfers
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="../../pages/transfers/own-account.html">Transfer to your own Accounts </a></li>
                                <li><a class="dropdown-item" href="../../pages/transfers/internal.html">Transfer from I&M to I&M </a></li>
                                <li><a class="dropdown-item" href="../../pages/transfers/local-bank.html">Transfer to Local Banks </a></li>
                                <li><a class="dropdown-item" href="../../pages/transfers/international.html">Transfer to International </a></li>
                            </ul>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Payments
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="../../pages/payments/rra.html">RRA Payment </a></li>
                                <li><a class="dropdown-item" href="../../pages/payments/irembo.html">Irembo Payment </a></li>
                                <li><a class="dropdown-item" href="../../pages/payments/airtime.html">Airtime Top Up</a></li>
                                <li><a class="dropdown-item" href="../../pages/transfers/local-bank.html">Mobile Money Payment </a></li>
                                <li><a class="dropdown-item" href="../../pages/payments/utilities.html">Utilities Payment </a></li>
                            </ul>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link " href="../card-management.html"
                               type="button" role="tab" aria-controls="pills-home"
                               aria-selected="true">
                                Manage Cards
                            </a>
                        </li>
                        <li class="nav-item dropdown">
                            <a class="nav-link  dropdown-toggle" href="#" role="button" data-bs-toggle="dropdown" aria-expanded="false">
                                Service Requests
                            </a>
                            <ul class="dropdown-menu">
                                <li><a class="dropdown-item" href="chequebook.html">Chequebook Requests </a></li>
                                <li><a class="dropdown-item" href="certificates.html">Certificates Requests </a></li>
                                <li><a class="dropdown-item" href="paper-statement.html">Paper Statement Requests</a></li>
                                <li><a class="dropdown-item" href="overdraft.html">Bankers cheques/overdraft Demand Request </a></li>
                            </ul>
                        </li>
                        <li class="nav-item" role="presentation">
                            <a class="nav-link " href="../beneficiaries.html"
                               type="button" role="tab" aria-controls="pills-home"
                               aria-selected="true">
                                Beneficiaries
                            </a>
                        </li>
                        <li class="nav-item" role="presentation">
                            <button class="nav-link" id="Mails" data-bs-toggle="pill" data-bs-target="#pills-contact"
                                    type="button" role="tab" aria-controls="pills-contact" aria-selected="false">Mails
                            </button>
                        </li>
                    </ul>
                </div>
            </nav>
        </div>
        <div class="container">
            <div class="row">
                <div class="col-lg-9 ">
                    <div class="card rounded-4 border-0 h-100">
                        <div class="card-body">
                            <div class="d-flex border-bottom py-3 mb-3 flex-wrap justify-content-between">
                                <h5 class="mx-3">Certificates Requests</h5>
                                <form action="" id="certificateForm">
                                    <button type="submit"
                                            class="btn btn-info text-white rounded-pill px-4 py-1">
                                        <i class="bi bi-plus-circle me-2"></i>Make Request
                                    </button>
                                </form>
                            </div>
                            <div class="table-responsive  ">
                                <table class="table my-2 table-accounts  ">
                                    <thead>
                                    <tr class="">

                                        <th class="text-info  border-0 text-sm    border-3 border-bottom  border-info cursor-pointer">
                                            <div class=" d-flex align-items-center justify-content-between border-end pe-2">
                                                <span>Collector ID Type</span>
                                                <div class="d-flex flex-column fs-9px">
                                                    <i class="bi bi-chevron-up"></i>
                                                    <i class="bi bi-chevron-down"></i>
                                                </div>
                                            </div>
                                        </th>
                                        <th class="text-info  border-0 text-sm    border-3 border-bottom  border-info cursor-pointer">
                                            <div class=" d-flex align-items-center justify-content-between border-end pe-2">
                                                <span>Collector ID Number</span>
                                                <div class="d-flex flex-column fs-9px">
                                                    <i class="bi bi-chevron-up"></i>
                                                    <i class="bi bi-chevron-down"></i>
                                                </div>
                                            </div>
                                        </th>
                                        <th class="text-info  border-0 text-sm    border-3 border-bottom  border-info cursor-pointer ">
                                            <div class="d-flex align-items-center justify-content-between border-end pe-2">
                                                <span>Collector Name</span>
                                                <div class="d-flex flex-column fs-9px">
                                                    <i class="bi bi-chevron-up "></i>
                                                    <i class="bi bi-chevron-down"></i>
                                                </div>
                                            </div>
                                        </th>

                                        <th class="text-info  border-0 text-sm    border-3 border-bottom  border-info cursor-pointer ">
                                            <div class="d-flex align-items-center justify-content-between border-end pe-2">
                                                <span>Certificate Type</span>
                                                <div class="d-flex flex-column fs-9px">
                                                    <i class="bi bi-chevron-up "></i>
                                                    <i class="bi bi-chevron-down"></i>
                                                </div>
                                            </div>
                                        </th>

                                        <th class="text-info  border-0 text-sm    border-3 border-bottom  border-info cursor-pointer ">
                                            <div class="d-flex align-items-center justify-content-between border-end pe-2">
                                                <span>Status</span>
                                                <div class="d-flex flex-column fs-9px">
                                                    <i class="bi bi-chevron-up "></i>
                                                    <i class="bi bi-chevron-down"></i>
                                                </div>
                                            </div>
                                        </th>
                                        <th class="text-info  border-0 text-sm    border-3 border-bottom  border-info cursor-pointer ">
                                            <div class="d-flex align-items-center justify-content-between border-end pe-2">
                                                <span>Details</span>
                                                <div class="d-flex flex-column fs-9px">
                                                    <i class="bi bi-chevron-up "></i>
                                                    <i class="bi bi-chevron-down"></i>
                                                </div>
                                            </div>
                                        </th>

                                    </tr>
                                    </thead>
                                    <tbody>
                                    <tr class="cursor-pointer js-account py-5">
                                        <td class="fs-13px">National ID</td>
                                        <td class="fs-13px">119998023456789</td>
                                        <td class="fs-13px">John Doe</td>
                                        <td class="fs-13px">Bank Opinion</td>
                                        <td class="fs-13px"><span class="badge start text-bg-success">Active</span>
                                            <span class="badge text-bg-danger stop d-none">Deactivated</span>
                                        </td>
                                        <td class="fs-13px">Bank Opinion</td>
                                    </tr>
                                    <tr class="cursor-pointer js-account py-5">
                                        <td class="fs-13px">National ID</td>
                                        <td class="fs-13px">119998023456789</td>
                                        <td class="fs-13px">John Doe</td>
                                        <td class="fs-13px">Bank Opinion</td>
                                        <td class="fs-13px"><span
                                                class="badge active text-bg-warning">Pending</span>
                                            <span class="badge text-bg-danger unactive d-none">Deactivated</span>
                                        </td>
                                        <td class="fs-13px">Bank Opinion</td>
                                    </tr>
                                    <tr class="cursor-pointer js-account py-5">
                                        <td class="fs-13px">National ID</td>
                                        <td class="fs-13px">119998023456789</td>
                                        <td class="fs-13px">John Doe</td>
                                        <td class="fs-13px">Bank Opinion</td>
                                        <td class="fs-13px"><span class="badge start text-bg-warning">pending</span>
                                            <span class="badge text-bg-danger stop d-none">Deactivated</span>
                                        </td>
                                        <td class="fs-13px">Bank Opinion</td>
                                    </tr>

                                    </tbody>
                                </table>
                                <div class="d-flex justify-content-between p-2 align-items-center">
                                    <span class="text-muted">Showing 1 to 5 of 10 entries</span>
                                    <nav aria-label="...">
                                        <ul class="pagination">
                                            <li class="page-item disabled">
                                                <span class="page-link">Previous</span>
                                            </li>
                                            <li class="page-item"><a class="page-link" href="#">1</a></li>
                                            <li class="page-item active" aria-current="page">
                                                <span class="page-link">2</span>
                                            </li>
                                            <li class="page-item"><a class="page-link" href="#">3</a></li>
                                            <li class="page-item">
                                                <a class="page-link" href="#">Next</a>
                                            </li>
                                        </ul>
                                    </nav>
                                </div>
                            </div>

                        </div>
                    </div>
                </div>
                <div class="col-lg-3 mb-2">
                    <div class="card h-100 rounded-4  border-0">
                        <div class="card-body">
                            <div class="row">
                                <div class="col-6 quick-actions border-bottom border-end">
                                    <a href="#"
                                       class="mb-1 py-1 text-decoration-none d-flex flex-column justify-content-center align-items-center">
                                        <div class="bg-white-subtle  d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                             style="height: 54px;width: 54px">
                                            <img src="../../assets/images/login/RRA.svg" class="h-75" alt="rra">
                                        </div>
                                        <span class="small text-primary fw-bold">Pay to</span>
                                        <span class="small text-info fw-semibold">RRA</span>
                                    </a>
                                </div>
                                <div class="col-6 quick-actions border-bottom">
                                    <a href="#"
                                       class=" mb-1 py-1 text-decoration-none d-flex justify-content-center align-items-center flex-column">
                                        <div class="bg-white-subtle  d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                             style="height: 54px;width: 54px">
                                            <img src="../../assets/images/dashboard/irembo.svg" class="h-75" alt="rra">
                                        </div>
                                        <span class="small text-primary fw-bold">Pay to</span>
                                        <span class="small text-info fw-semibold">Irembo</span>
                                    </a>
                                </div>
                            </div>
                            <div class="row mb-4">
                                <div class="col-6 py-2 quick-actions  border-end">
                                    <a href="#"
                                       class=" py-1 text-decoration-none d-flex flex-column justify-content-center align-items-center">
                                        <div class="bg-white-subtle  d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                             style="height: 54px;width: 54px">
                                            <i class="bi bi-meta"></i>
                                        </div>
                                        <span class="small text-primary fw-bold">Pay </span>
                                        <span class="small text-info fw-semibold">Electricity</span>
                                    </a>
                                </div>
                                <div class="col-6 quick-actions py-2 ">
                                    <a href="#"
                                       class="d-flex py-1 text-decoration-none justify-content-center align-items-center flex-column">
                                        <div class="bg-white-subtle   d-flex align-items-center border border-5 rounded-circle   border-info justify-content-center "
                                             style="height: 54px;width: 54px;">
                                            <i class="bi bi-droplet"></i>

                                        </div>
                                        <span class="small text-primary fw-bold">Pay </span>
                                        <span class=" text-info small fw-semibold">Water</span>
                                    </a>
                                </div>
                            </div>
                            <div id="carouselExampleControls" class="carousel slide" data-bs-ride="carousel">
                                <div class="carousel-inner">
                                    <div class="carousel-item active">
                                        <img src="../../assets/images/ads.png" class="d-block w-100" alt="...">
                                    </div>
                                    <div class="carousel-item">
                                        <img src="../../assets/images/ads.png" class="d-block w-100" alt="...">
                                    </div>
                                    <div class="carousel-item">
                                        <img src="../../assets/images/ads.png" class="d-block w-100" alt="...">
                                    </div>
                                </div>
                                <div class="d-flex justify-content-center align-items-center">
                                    <button class="carousel-control-prev" type="button"
                                            data-bs-target="#carouselExampleControls" data-bs-slide="prev">
                                    <span class=" bg-white bg-opacity-25  rounded-circle d-flex justify-content-center align-items-center"
                                          style="height: 30px;width: 30px" aria-hidden="true">
                                        <i class="bi bi-chevron-left fs-5"></i>
                                    </span>
                                        <span class="visually-hidden">Previous</span>
                                    </button>
                                </div>
                                <button class="carousel-control-next" type="button"
                                        data-bs-target="#carouselExampleControls" data-bs-slide="next">
                                <span class=" bg-white bg-opacity-25  rounded-circle d-flex justify-content-center align-items-center"
                                      style="height: 30px;width: 30px" aria-hidden="true">
                                        <i class="bi bi-chevron-right fs-5"></i>
                                    </span>
                                    <span class="visually-hidden">Next</span>
                                </button>
                            </div>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </div>
    <footer>
        <div class="bg-info d-flex justify-content-center w-100">
            <span class="text-white text-center text-sm py-1">I&M BANK RWANDA</span>
        </div>
    </footer>
</div>
<div class="modal   fade" id="certificateRequest" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-lg modal-dialog-centered">
        <div class="modal-content px-3 rounded-4">
            <div class="modal-header   justify-content-between border-bottom-0 align-items-center py-4 px-0 ">
                <h1 class="modal-title fs-4 text-primary fw-semibold mb-0">
                    Certificate Application Form
                </h1>
                <button type="button" class="btn-close" data-bs-dismiss="modal" aria-label="Close"></button>
            </div>
            <form action="" class="" id="applyCertificate">
                <div class="row">
                    <div class="col-lg-6">
                        <div class="">
                            <label class="form-label fw-normal text-sm" for="certificate_types">Certificate Type:</label>
                            <select id="certificate_types" required
                                    class="  py-3 bg-secondary text-sm border-0 bg-opacity-10   js-select-card form-select ">
                                <option value="hid" selected disabled>Select Certificate Type</option>
                                <option value="classic">Auditors Certificate Approval</option>
                                <option value="gold">Balance Certificate</option>
                                <option value="suppCard"> Interest Certificate</option>
                                <option value="no">No dues Certificate</option>
                                <option value="tax">Withholding Tax Certificate</option>
                                <option value="other">Others</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="">
                            <label for="branches2"
                                   class="form-label fw-normal text-sm">Branch:</label>
                            <select id="branches2" name="bank" required
                                    class="py-3 bg-secondary text-sm border-0 bg-opacity-10 form-select js-banks">
                                <option value="">Select Branch</option>
                                <option value="1">INM BANK KIGALI HQ</option>
                                <option value="2">INM BANK KIGALI KCM</option>
                                <option value="3">INM BANK KIGALI HEIGHTS</option>
                                <option value="4">INM BANK REMERA</option>
                                <option value="5">INM BANK HUYE</option>
                                <option value="6">INM BANK NYAMIRAMBO</option>
                                <option value="7">INM BANK CHIC</option>
                                <option value="8">INM BANK RUSIZI</option>
                                <option value="9">INM BANK HEAD OFFICE</option>
                            </select>
                        </div>
                    </div>
                    <div class="col-lg-6">
                        <div class="row">
                            <div class=" py-3">
                                <label for="international_bank"
                                       class="form-label fw-normal text-sm">Attach ID Document:</label>
                                <div class="input-group ">
                                    <input type="file" class="form-control" required
                                           id="idAttchment2">
                                    <button class="btn btn-info" type="button">
                                        Upload
                                        <span class="bi bi-cloud-upload"></span>
                                    </button>
                                </div>
                            </div>
                        </div>
                    </div>
                    <div class="col-lg-6">

                    </div>
                    <div class="col-lg-12">
                        <div class="mb-3">
                            <div class="d-flex gap-3 col-lg-4 justify-content-between">
                                <label for="international_beneficiary"
                                       class="text-primary fw-normal form-label">
                                    Collection by:
                                </label>
                                <div class="form-check col-lg-3 ">
                                    <input
                                            class="form-check-input rounded-0 border-info                                       "
                                            type="checkbox">
                                    <label
                                            class="form-check-label text-primary fw-normal cursor-pointer"
                                    >
                                        Self
                                    </label>
                                </div>
                                <div class="form-check ">
                                    <input
                                            class="form-check-input rounded-0 border-info  js-check-saved-beneficiaries"
                                            id="ben"
                                            type="checkbox" name="select_beneficiary"
                                    >
                                    <label
                                            class="form-check-label text-primary fw-normal cursor-pointer"
                                            for="international_beneficiary">
                                        Other
                                    </label>
                                </div>
                            </div>
                            <div style="display: none" class="js-select-beneficiary row">
                                <div class="col-lg-6">
                                    <div class="">
                                        <label for="international_beneficiary_email"
                                               class="form-label fw-normal text-primary fs-6">
                                            Collector's Name<small class="text-muted"></small>
                                        </label>
                                        <input type="text" name="beneficiary_email" required
                                               id="cName"
                                               class="form-control   py-2 px-3  fw-semibold text-primary"/>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="">
                                        <label for="international_bank"
                                               class="form-label fw-normal text-primary fs-6">collector's Id
                                            Type:</label>
                                        <select id="collect_id" name="bank" required
                                                class=" py-3 bg-secondary text-sm border-0 bg-opacity-10 form-select js-banks">
                                            <option value="">Select</option>
                                            <option value="1">Driving License</option>
                                            <option value="2">National ID</option>
                                            <option value="3">PassPort</option>
                                        </select>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="mb-3">
                                        <label for="international_beneficiary_email"
                                               class="form-label fw-normal text-primary fs-6">
                                            Collector's ID<small
                                                class="text-muted"></small>
                                        </label>
                                        <input type="text" name="beneficiary_email" required
                                               id="id"
                                               class="form-control   py-2 px-3  fw-semibold text-primary"/>
                                    </div>
                                </div>
                                <div class="col-lg-6">
                                    <div class="row">

                                        <div class="">
                                            <label for="international_bank"
                                                   class="form-label fw-normal text-primary fs-6">Attach Collector's
                                                Id:</label>
                                            <div class="input-group ">
                                                <input type="file" class="form-control" required
                                                       id="idFile2">
                                                <button class="btn btn-primary" type="button">
                                                    Upload
                                                    <span class="bi bi-cloud-upload"></span>
                                                </button>
                                            </div>
                                        </div>
                                    </div>
                                </div>
                            </div>
                            <div class=" js-search-beneficiary">

                            </div>
                        </div>
                    </div>
                </div>
                <div class="border-top border-3 mb-3"></div>
                <div class="row">
                    <div class="col-lg-6 offset-lg-6">
                        <div
                                class="mb-3 d-flex gap-4 align-items-center  justify-content-end">
                            <button type="submit" class="btn btn-info text-white px-lg-5">
                                Continue
                            </button>
                            <button type="reset" class="btn btn-outline-primary   px-lg-5">
                                Clear
                            </button>
                        </div>
                    </div>
                </div>

            </form>

        </div>
    </div>
</div>
<!-- Modal -->
<!-- Modal -->
<div class="modal fade" id="otpModal" tabindex="-1" data-bs-backdrop="static" data-bs-keyboard="false">
    <div class="modal-dialog modal-dialog-centered">
        <div class="modal-content rounded-4">
            <div class="d-flex justify-content-center flex-column border-0 align-items-center py-4 px-lg-5">
                <div class="position-relative">
                    <div class="d-flex justify-content-center  align-items-center bg-primary rounded-circle"
                         style="height: 84px;width: 84px">
                        <i class="text-white bi bi-arrow-counterclockwise tw-object-cover display-2">
                        </i>
                        <span id="secondsRemain" class="position-absolute text-white tw-top-2 tw-right-2"></span>
                    </div>
                </div>
                <span class="text-dark  display-5 fw-bold ">
                        OTP
                </span>
                <span class="text-muted  mb-1  ">
                        Please check your 4 digits sent to *********6723
                </span>

            </div>
            <form action="">
                <div class="modal-body py-0 px-lg-5">

                    <div class="d-flex justify-content-between mb-4 card-body gap-3">
                        <input type="text"
                               class="form-control fs-3 border-0  border-bottom border-3  border-info  rounded-0 h-7 text-center one-digit"
                               required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text"
                               class="form-control fs-3 border-0  border-bottom border-3  border-info  rounded-0 h-7 text-center one-digit"
                               required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text"
                               class="form-control fs-3 border-0  border-bottom border-3  border-info  rounded-0 h-7 text-center one-digit"
                               required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text"
                               class="form-control fs-3 border-0  border-bottom border-3  border-info  rounded-0 h-7 text-center one-digit"
                               required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text"
                               class="form-control fs-3 border-0  border-bottom border-3  border-info  rounded-0 h-7 text-center one-digit"
                               required
                               maxlength="1" minlength="1" max="9" min="0"/>
                        <input type="text"
                               class="form-control fs-3 border-0  border-bottom border-3  border-info  rounded-0 h-7 text-center one-digit"
                               required
                               maxlength="1" minlength="1" max="9" min="0"/>
                    </div>
                </div>
                <div class="modal-footer border-top-1 px-lg-5 py-2 justify-content-end">
                    <button type="button" data-bs-dismiss="modal" aria-label="Close" class="btn btn-outline-primary    py-2  fw-semibold  ">
                        Cancel
                    </button>
                    <button type="button" class="btn btn-info js-verify  px-5   py-2 text-white fw-semibold  ">
                        Confirm
                    </button>
                </div>
            </form>
        </div>
    </div>
</div>

<script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.6.1/jquery.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.2.2/dist/js/bootstrap.bundle.min.js"></script>
<script src="../../js/main.js"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
<script src="https://cdn.jsdelivr.net/npm/select2@4.1.0-rc.0/dist/js/select2.min.js"></script>
<script src="//cdn.jsdelivr.net/npm/sweetalert2@11"></script>
<script src="https://cdn.jsdelivr.net/npm/jquery-validation@1.19.5/dist/jquery.validate.min.js"></script>
<script>
    $('form').validate({
        rules: {
            password: {
                required: true,
                minlength: 8,
                strongPassword: true
            },
            password_confirmation: {
                required: true,
                equalTo: "#password",
            },
            endDate: {
                require: true,
                checkDate: true
            }
        },

        messages: {
            password: {
                required: "Please provide a password",
                minlength: "Your password must be at least 8 characters long"
            },
            password_confirmation: {
                required: "Please provide a password",
                minlength: "Your password must be at least 8 characters long",
                equalTo: "Please enter the same password as above"
            }
        }

    });
    //remove row after click on verify button from otp modal


</script>

<script>


    let accountFrom = null;
    let currency = null;
    let amount = null;

    let jsFromAccountElement = $('.js-transfer-from');
    let jsCurrency = $('.js-currency');
    let ownAmount = $('.js-amount');
    let toggleConversion = function () {
        if (accountFrom) {
            $('.js-conversion').slideDown();
        } else {
            $('.js-conversion').slideUp();
        }
    }


    $(function () {


        //

        $('.js-approve').on('click', function () {
            let approveBtn = $(this);
            $('#exampleModel').modal('show');

            function verifyAlert() {
                Swal.fire({
                    title: 'Successful',
                    text: "Transation is approved",
                    icon: 'success',

                }).then((result) => {
                    if (result.isConfirmed) {
                        $('#approveOtp').modal('hide');
                        approveBtn.closest("tr").remove();
                    }
                })
            }

            $('.js-verif').on('click', function () {
                verifyAlert();
                $('#approveOtp').modal('hide');

            });
        });
        let $applyForm = $('#applicationForm');
        $applyForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });
        $applyForm.on('submit', function (e) {
            e.preventDefault();
            if ($applyForm.valid()) {
                $('#apply').modal('show');
            }
        });
        let $certificatesForm = $('#certificateForm');
        $applyForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });
        $certificatesForm.on('submit', function (e) {
            e.preventDefault();
            if ($certificatesForm.valid()) {
                $('#certificateRequest').modal('show');
            }
        });
        let $paperForm = $('#paperForm');
        $paperForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });
        $paperForm.on('submit', function (e) {
            e.preventDefault();
            if ($paperForm.valid()) {
                $('#paperRequest').modal('show');
            }
        });
        let $draftForm = $('#overdraftForm');
        $draftForm.validate({
            rules: {
                reason: {
                    required: true,
                    alphanumeric: true,
                }
            },
        });
        $draftForm.on('submit', function (e) {
            e.preventDefault();
            if ($draftForm.valid()) {
                $('#overdraftRequest').modal('show');
            }
        });
        $(document).on('click', '.js-Bulapprove', function () {
            approveBtn = $(this);
            $('#exampleModel2').modal('show');

            function verifyAlert() {
                Swal.fire({
                    title: 'Successful',
                    text: "Transation is approved",
                    icon: 'success',

                }).then((result) => {
                    if (result.isConfirmed) {
                        $('#approveOtp').modal('hide');
                        approveBtn.closest("tr").remove();
                    }
                })
            }

            $('.js-verif').on('click', function () {
                verifyAlert();
                $('#approveBulkOtp').modal('hide');

            });
        });


        function sweetAlert() {
            Swal.fire({
                text: "Request is sent successfully!",
                icon: 'success',
            });
        }

        $('.js-verify').on('click', function () {
            setTimeout(function () {
                sweetAlert();
                $('#otpModal').modal('hide');
            }, 3000);
        });

        function deleteAlert() {
            Swal.fire({
                title: 'Are you sure?',
                text: "You want to stop this!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Yes',
            }).then((result) => {
                if (result.isConfirmed) {
                    $('#otpStop').modal('show');
                }
            })
        }

        $('.js-delete').on('click', function () {
            deleteAlert();
        });

        function startAlert() {
            Swal.fire({
                title: 'Are you sure?',
                text: "You want to start the Schedule!",
                icon: 'warning',
                showCancelButton: true,
                confirmButtonColor: '#3085d6',
                cancelButtonColor: '#d33',
                confirmButtonText: 'Start',
            }).then((result) => {
                $('.stop').addClass('d-none');
                $('.start').removeClass('d-none');
                $('.js-start').addClass('d-none');
                $('.js-delete').removeClass('d-none');
                if (result.isConfirmed) {
                    Swal.fire(
                        'Started!',
                        'the Schedule is successful started!',
                        'success'
                    )
                }
            })
        }

        $('.js-start').on('click', function () {
            startAlert();
        });
        let toggleConversion = function () {
            let to = $('.js-transfer-to').val();
            let from = jsFromAccountElement.val();

            if (to && from && to !== from) {
                $('.js-conversion').slideDown();
            } else {
                $('.js-conversion').slideUp();
            }
        }

        $(document).on('click', '.js-remove', function () {
            $(this).closest('tr').remove();
        });
        
        let $showCertificate = $('#applyCertificate');
        $showCertificate.on('submit', function (e) {
            e.preventDefault();
            let modal = $(this).closest('.modal');
            // hide modal
            modal.modal('hide');
            $('#otpModal').modal('show');

            let $minutesRemain = $('#minutesRemain');
            let minutes = Number($minutesRemain.text());
            let seconds = 0;
            let interval = setInterval(function () {
                if (seconds === 0) {
                    minutes--;
                    seconds = 60;
                }
                seconds--;
                $minutesRemain.text(minutes);
                $('#secondsRemain').text(seconds);
                if (minutes === 0 && seconds === 0) {
                    clearInterval(interval);
                }
            }, 1000);
        });
        let $showOverdraft = $('#applyOverdraft');

        $showOverdraft.on('submit', function (e) {
            e.preventDefault();
            $('#otpModal').modal('show');
            $('#overdraftRequest').modal('hide');
            showOtpTimer();
        });

        let $showPaper = $('#applyPaper');
        $showPaper.on('submit', function (e) {
            e.preventDefault();
            $('#otpModal').modal('show');
            $('#paperRequest').modal('hide');
            showOtpTimer();
        });
        $('.submitTransferForm').on('submit', function (e) {
            e.preventDefault();
            // find modal parent of this form
            var modal = $(this).closest('.modal');
            // hide modal
            modal.modal('hide');
            $('#approveOtp').modal('show');

            let $minutesRemain = $('.minutesRemain');
            let minutes = Number($minutesRemain.text());
            let seconds = 0;
            let interval = setInterval(function () {
                if (seconds === 0) {
                    minutes--;
                    seconds = 60;
                }
                seconds--;
                $minutesRemain.text(minutes);
                $('.secondsRemain').text(seconds);
                if (minutes === 0 && seconds === 0) {
                    clearInterval(interval);
                }
            }, 1000);
        });
        $('.submitApprovalForm').on('submit', function (e) {
            e.preventDefault();
            // find modal parent of this form
            var modal = $(this).closest('.modal');
            // hide modal
            modal.modal('hide');
            $('#approveBulkOtp').modal('show');

            let $minutesRemain = $('.minutesRemain');
            let minutes = Number($minutesRemain.text());
            let seconds = 0;
            let interval = setInterval(function () {
                if (seconds === 0) {
                    minutes--;
                    seconds = 60;
                }
                seconds--;
                $minutesRemain.text(minutes);
                $('.secondsRemain').text(seconds);
                if (minutes === 0 && seconds === 0) {
                    clearInterval(interval);
                }
            }, 1000);
        });

        currencies.forEach(function (currency, index) {
            let abbr = currency.abbr;
            let innerText = `${abbr}-4000-0000-0000-000${index}-Jean Paul`;
            jsFromAccountElement.append(`<option value="${abbr}">${innerText}</option>`);
            jsCurrency.append(`<option value="${abbr}">${abbr}</option>`);
        });

        jsFromAccountElement.on('change', function () {
            let value = $(this).val();
            accountFrom = value;
            if (value)
                toggleConversion();
        });


        let $ownFromAccount = $('.js-transfer-from');
        let hideBalanceSymbol = '*** *** *** ***';
        $ownFromAccount.on('change', function () {
            // find the sibling of parent div
            $('.js-balance').text(hideBalanceSymbol)
            $('.js-toggle-balance').text('Show Balance')
            let accountBalance = $(this).parent().siblings('.js-account-balance');
            if ($(this).val()) {
                accountBalance.addClass('d-flex')
            } else {
                accountBalance.removeClass('d-flex')
            }
        });

        $('.js-toggle-balance').on('click', function () {
            let currency = $ownFromAccount.val();
            let balanceElement = $(this).siblings('div').find('.js-balance');
            if (balanceElement.text() === hideBalanceSymbol) {
                balanceElement.text(currency + ' 1,000,000.00');
                $(this).text('Hide Balance');
            } else {
                balanceElement.text(hideBalanceSymbol);
                $(this).text('Show Balance');
            }
        });


        jQuery.validator.addMethod("alphanumeric", function (value, element) {
            // return this.optional(element) || /^[a-zA-Z0-9\s]+$/.test(value);
            // allow only letters, numbers,  whitespace
            return /^[a-zA-Z0-9\s']+$/.test(value) || this.optional(element);
        }, "Letters and numbers  only please");
        let $rraPayment = $('#rraPaymentForm');
        $rraPayment.validate({
            rules: {
                reason: {
                    alphanumeric: true
                }
            }
        });


        $('.one-digit').on('keyup', function () {
            if ($(this).val().length === 1) {
                setTimeout(() => {
                    $(this).next('.one-digit').focus();
                }, 100);
            }
        });
        $('.js-verify').on('click', function () {
            //simulate ajax call
            let btn = $(this);
            // add spinner to button
            btn.html(
                `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
                <span class="visually-hidden">Loading...</span>`
            )
                .prop('disabled', true);
            setTimeout(function () {
                $('.js-account-found').slideDown();
                btn.html('Verify').prop('disabled', false);
            }, 2000);
        });
        $('.js-verify').on('click', function () {
            let ref_number = $('#ref_number').val();
            if (!ref_number) {
                return;
            }
            let loadBeneficiaries = function () {
                let beneficiariesInput = $('.js-transfer-to');

                currencies.forEach(function (currency, index) {
                    beneficiariesInput.append(`<option value="${currency.abbr}">${currency.abbr}-4590-7838-7989-7890-name${index + 1}</option>`);
                });
                beneficiariesInput.trigger('change');
            }
            loadBeneficiaries();
            //simulate ajax call
            let btn = $(this);
            // add spinner to button
            let s = `<span class="spinner-border spinner-border-sm" role="status" aria-hidden="true"></span>
            <span class="visually-hidden">Loading...</span>`;
            btn.append(s)
                .prop('disabled', true);
            setTimeout(function () {
                let $jsReferenceFound = $('.js-account-found');
                $jsReferenceFound.slideDown();
                // find table inside the reference found div
                let $table = $jsReferenceFound.find('table');
                // find the tbody of the table
                let $tbody = $table.find('tbody');
                // split the reference number by comma
                // loop through the reference numbers and append to the table body as a row

                // create a row
                let $tr = $('<tr></tr>');
                //create a checkbox column
                let checkbox = `<td><input type="checkbox" class="form-check-input rounded-0" checked></td>`;
                // create a cell for the reference number
                let $tdRefNumber = $(`<td>${ref_number}</td>`);
                // create a cell for the amount
                // generate a random amount between 1000 and 100000
                let amount = Math.floor(Math.random() * 100000) + 1000;
                let $tdAmount = $(`<td class="fs-13px js-amount-tobe-paid">${amount.toLocaleString("en-US")}</td>`);
                // create a cell for amount to be edited
                let $tdAmountToEdit = $(`<td class="w-150px"><input type="text" required class="form-control form-control-sm" value="${amount.toLocaleString("en-US")}"></td>`);
                // create a cell for tax type as read only span
                let taxType = Math.random() < 0.5 ? 'VAT' : 'WHT';
                let $tdTaxType = $(`<td class="fs-13px"><span class="">${taxType}</span></td>`);
                // create a cell for company name as read only span
                // generate random company from companies array
                let company = companies[Math.floor(Math.random() * companies.length)];
                let $tdCompanyName = $(`<td class="fs-13px"><span class="">${company}</span></td>`);
                // append the cells to the row
                $tr.append(checkbox, $tdRefNumber, $tdAmount, $tdAmountToEdit, $tdTaxType, $tdCompanyName);
                // append the row to the table body
                $tbody.append($tr);

                // find .js-amount-tobe-paid
                let amountToBePaidInputs = document.querySelectorAll('.js-amount-tobe-paid');
                let totalAmount = 0;
                console.log(amountToBePaidInputs);
                amountToBePaidInputs.forEach((element, index) => {
                    let amountWithComma = $(element).text();
                    // remove commas from amountWithComma
                    totalAmount += Number(amountWithComma.replace(",", ""))
                });
                let amountFormatted = totalAmount.toLocaleString("en-US");
                $('#totalTaxToBePaid').text(amountFormatted);
                $('#taxToPay').text(amountFormatted);

                btn.prop('disabled', false).find('.spinner-border')
                    .remove();
            }, 2000);
        });
        jsCurrency.on('change', function () {
            currency = $(this).val();
            toggleConversion();
        });
        ownAmount.on('change', function () {
            amount = $(this).val();
            toggleConversion();
        });

    });
</script>
</body>
</html>